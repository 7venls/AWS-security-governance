# IPアドレスとは？

IPは機械の住所。

例：192.168.0.5

　  10.0.1.23

   54.12.55.110

   インターネットの世界では、住所がないと通信できない。

   ・メールを送るもの。

   ・Webを開くもの。

   ・SSHするもの。

   全部相手の住所（IP）があって成立。

# パブリックIPとプライベートIPの違い

## パブリックIP

・世界中から見える住所。

## プライベートIP

・会社や家庭の中だけで使う住所。

・外（インターネット）から見えない。

・自由に使える。

・範囲は決められている。

【 使える範囲 】

10.0.0.0 ~ 10.255.255.255

172.16.0.0 ~ 172.16.255.255

192.168.0.0 ~ 192.168.255.255

AWSでVPCを作るときはこの範囲内で選ぶ。

# CIDRとは？

CIDR = 「住所を何人で共有できるかのルール」

例：10.0.0.0/16

/16がポイント。

これは「上16ビットがネットワーク部分ですよ」の意味。

残りのビットがホスト用。

計算式は：2＾（32－16） = 65536

つまり/16の中には65536アドレスが存在する。

# サブネットとは？

・VPC（町）をエリアで分割したもの。

【 例 】

   10.0.0.0/16（町）
   
 ├ 10.0.1.0/24（Aブロック）
 
 ├ 10.0.2.0/24（Bブロック）
 
 └ 10.0.3.0/24（Cブロック）

 ### なぜ必要か？

 用途ごとに区分さないと事故るから。

 ・パブリック用

 ・データベース用

 ・内部処理用

 全部同じ住所だと危険 ⇒ それを安全に分けるのがサブネット設計。

 ### 「10.0.0.0/16を/24に割る練習」

①　10.0.0.0/16

／２４で割ると？

②　2^(24-16) = 256個の/24

だから、、

③　10.0.0.0/24

　 10.0.1.0/24
  
　 10.0.2.0/24
  
　 10.0.3.0/24
  
　 ...
  
　 10.0.255.0/24
  
3番目も数字が１ずつ増える。

### 2進数表

/16 = 65536 IP

/17 = 32768

/18 = 16384

/19 = 8192

/20 = 4096

/21 = 2048

/22 = 1024

/23 = 512

/24 = 256

これがあると設計の時に便利。

# 実務で使う考え方

AWSに限らずネットワークは“必要なサイズを先に決める”

例：

・DBサブネット：小さい（／28）

・Webサブネット：大きめ（／24）

・管理サブネット（／28）

「全部／24」はよくない。

理由：無駄に広いと管理できない＆IP計画ぐちゃぐちゃ
